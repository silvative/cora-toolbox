{"_id":"HbL7Gu7B7ukic5Ig","name":"Import while preserving UUID","type":"script","author":"gnyTpTckqpage05l","img":"icons/tools/hand/scale-balances-merchant-brown.webp","scope":"global","command":"const PACK_NAME = \"pf2e.bestiary\"; // configure this\nconst MONSTER_NAMES = [\"Monster 1\", \"Monster 2\", \"Monster 3\"]; // configure this\nconst pack = game.packs.get(PACK_NAME);\nfor ( const name of MONSTER_NAMES ) {\n  const id = pack.index.find(i => i.name === name)._id;\n  await game.actors.importFromCompendium(PACK_NAME, id, {keepId: true});","folder":null,"sort":0,"permission":{"default":0,"gnyTpTckqpage05l":3},"flags":{"core":{"sourceId":"Macro.RegBGW211JleQN2e"}}}
{"_id":"TyJXQTfArOK6UQ1A","name":"Configure Tokens","type":"script","author":"gnyTpTckqpage05l","img":"icons/environment/people/group.webp","scope":"global","command":"// Sets prototype tokens to hide name but show HP\nconst actorUpdate = game.actors.map(e => ({\n    _id: e.id,\n    \"token.displayBars\": CONST.TOKEN_DISPLAY_MODES.HOVER,\n    \"token.displayName\": CONST.TOKEN_DISPLAY_MODES.NONE,\n    \"token.bar1\": {attribute: \"attributes.hp\"},\n    \"token.bar2\": {attribute: null}\n}));\nawait Actor.updateDocuments(actorUpdate);\nui.notifications.info(\"PROTOTYPE TOKENS UPDATED\");\n// Sets scene tokens to hide name but show HP\nlet scene = game.scenes.active;\nlet tokenUpdates = scene.data.tokens.map(e => ({\n    _id: e.id,\n    displayBars: CONST.TOKEN_DISPLAY_MODES.HOVER,\n    displayName: CONST.TOKEN_DISPLAY_MODES.NONE,\n    bar1: {attribute: \"attributes.hp\"},\n    bar2: {attribute: null}\n}));\nawait scene.updateEmbeddedDocuments(\"Token\", tokenUpdates);\nui.notifications.info(`TOKENS UPDATED on scene: ${scene.name}`);","folder":null,"sort":0,"permission":{"default":0,"gnyTpTckqpage05l":3},"flags":{"exportSource":{"world":"sot","system":"pf2e","coreVersion":"9.269","systemVersion":"3.8.4.11118"},"core":{"sourceId":"Macro.4JXc5IdLq5rUq5GM"}}}
{"name":"Set Token to Neutral","type":"script","author":"gnyTpTckqpage05l","img":"icons/magic/control/silhouette-hold-change-blue.webp","scope":"global","command":"token.document.update({disposition: CONST.TOKEN_DISPOSITIONS.NEUTRAL}) // other options are .FRIENDLY and .HOSTILE instead of .NEUTRAL","folder":null,"sort":0,"permission":{"default":0,"gnyTpTckqpage05l":3},"flags":{"exportSource":{"world":"sot","system":"pf2e","coreVersion":"9.269","systemVersion":"3.8.4.11118"},"core":{"sourceId":"Macro.4JXc5IdLq5rUq5GM"}},"_id":"UFZgeSHbJx73kP7F"}
{"_id":"VK1Mst7A3Xbmo4YU","name":"Resize Pins","type":"script","author":"gnyTpTckqpage05l","img":"icons/tools/navigation/sextant-steel-blue.webp","scope":"global","command":"canvas.notes.updateAll({iconSize: 100, fontSize: 64});","folder":null,"sort":0,"permission":{"default":0,"gnyTpTckqpage05l":3},"flags":{"core":{"sourceId":"Macro.P5hPlWioWY898QcX"}}}
{"name":"Show Art","type":"script","author":"gnyTpTckqpage05l","img":"icons/tools/scribal/magnifying-glass.webp","scope":"global","command":"if (!token) {\n    ui.notifications.error(\"No token selected!\");\n} else {\n    const popout = new ImagePopout(token.actor.data.img, {\n        title: token.name,\n        shareable: true,\n        uuid: token.actor.uuid\n    })\n    popout.render(true);\n    popout.shareImage();\n}","folder":null,"sort":0,"permission":{"default":0,"gnyTpTckqpage05l":3},"flags":{"exportSource":{"world":"sot","system":"pf2e","coreVersion":"9.269","systemVersion":"3.8.4.11118"},"core":{"sourceId":"Macro.4JXc5IdLq5rUq5GM"}},"_id":"ekrrTvOaHrWSA0iF"}
{"name":"Extract All Actor UUIDs to CSV","type":"script","author":"gnyTpTckqpage05l","img":"icons/tools/scribal/ink-quill-red.webp","scope":"global","command":"function copyToClipboard(text) {\n    const input = document.createElement('textarea');\n    input.value = text;\n    \n    document.body.appendChild(input);\n    input.select();\n    document.execCommand('copy');\n    document.body.removeChild(input);\n}\n\n    const data = game.packs.contents.flatMap(x =>\n        Array.from(x.index.values())\n            .filter(k => k.type == 'npc' || k.type == 'hazard')\n            .map(k => `Compendium.${x.metadata.package}.${x.metadata.name}.${k._id},${k.name}`));\n\n    const output = data.join('\\n');\n    copyToClipboard(output);","folder":null,"sort":0,"permission":{"default":0,"gnyTpTckqpage05l":3},"flags":{"core":{"sourceId":"Macro.ST8hFgd4GMepYNAY"}},"_id":"fN5hUmvZPFoNxfEl"}
{"_id":"utgg62mR4sIcPwP8","name":"Quick Reference: DCs","type":"script","author":"gnyTpTckqpage05l","img":"icons/sundries/documents/document-symbol-lightning-brown.webp","scope":"global","command":"let journal = game.journal.getName(\"Difficulty Tables\");\nconst sheet = journal.sheet;\nif ( sheet.rendered ) {sheet.close();}\nelse {sheet.render(true)}","folder":null,"sort":0,"permission":{"default":0,"ZJ6r3OyrumO4W34r":3,"gnyTpTckqpage05l":3},"flags":{"core":{"sourceId":"Macro.MppBkkOiWyW1z6fW"},"pf2e-beginner-box":{"isBB":true}}}
{"_id":"wBj177Zhpc0x1Xsr","name":"Quick Reference: Encounters","type":"script","author":"gnyTpTckqpage05l","img":"icons/sundries/documents/document-symbol-skull-tan.webp","scope":"global","command":"let journal = game.journal.getName(\"Encounter Budget\");\nconst sheet = journal.sheet;\nif ( sheet.rendered ) {sheet.close();}\nelse {sheet.render(true)}","folder":null,"sort":0,"permission":{"default":0,"ZJ6r3OyrumO4W34r":3,"gnyTpTckqpage05l":3},"flags":{"pf2e-beginner-box":{"isBB":true},"core":{"sourceId":"Macro.MppBkkOiWyW1z6fW"}}}
{"name":"Compendium (Equipment)","type":"script","author":"xOsB85wXI0jTccyw","img":"icons/containers/bags/sack-cloth-patched-gray.webp","scope":"global","command":"game.packs.get(\"pf2e.equipment-srd\").render(true)","folder":null,"sort":0,"permission":{"default":0,"RwQQFAbeZEXH9J8B":3,"xOsB85wXI0jTccyw":3},"flags":{"core":{"sourceId":"Macro.95tOahEZk5PSGuSs"}},"_id":"MlhrrkrIoSlWk4pH"}
{"name":"Compendium (Actions)","type":"script","author":"xOsB85wXI0jTccyw","img":"systems/pf2e/icons/actions/OneAction.webp","scope":"global","command":"game.packs.get(\"pf2e.actionspf2e\").render(true)","folder":null,"sort":0,"permission":{"default":0,"RwQQFAbeZEXH9J8B":3,"xOsB85wXI0jTccyw":3},"flags":{"core":{"sourceId":"Macro.95tOahEZk5PSGuSs"}},"_id":"YtKaJYa8AYHau6AN"}
{"name":"Compendium (Spells)","type":"script","author":"xOsB85wXI0jTccyw","img":"icons/magic/control/debuff-energy-hold-levitate-blue-yellow.webp","scope":"global","command":"game.packs.get(\"pf2e.spells-srd\").render(true)","folder":null,"sort":0,"permission":{"default":0,"RwQQFAbeZEXH9J8B":3,"xOsB85wXI0jTccyw":3},"flags":{"core":{"sourceId":"Macro.95tOahEZk5PSGuSs"}},"_id":"Mlnd3o88tbtQjV9c"}
{"name":"Compendium (Conditions)","type":"script","author":"xOsB85wXI0jTccyw","img":"icons/skills/toxins/symbol-poison-drop-skull-green.webp","scope":"global","command":"game.packs.get(\"pf2e.conditionitems\").render(true)","folder":null,"sort":0,"permission":{"default":0,"RwQQFAbeZEXH9J8B":3,"xOsB85wXI0jTccyw":3},"flags":{"core":{"sourceId":"Macro.95tOahEZk5PSGuSs"}},"_id":"TOgZjs4eZqX6vzB7"}
{"name":"Get System Actor Long ID (CSV)","type":"script","author":"xOsB85wXI0jTccyw","img":"icons/tools/scribal/ink-quill-red.webp","scope":"global","command":"function copyToClipboard(text) {\n    const input = document.createElement('textarea');\n    input.value = text;\n    \n    document.body.appendChild(input);\n    input.select();\n    document.execCommand('copy');\n    document.body.removeChild(input);\n}\n\n    const data = game.packs.contents.flatMap(x =>\n        Array.from(x.index.values())\n            .filter(k => k.type == 'npc' || k.type == 'hazard')\n            .map(k => `Compendium.${x.metadata.package}.${x.metadata.name}.${k._id}`));\n\n    const output = data.join('\\n');\n    copyToClipboard(output);","folder":null,"sort":0,"permission":{"default":0,"xOsB85wXI0jTccyw":3},"flags":{"core":{"sourceId":"Macro.ST8hFgd4GMepYNAY"}},"_id":"4dWGy286PMyTD0Li"}
{"name":"Get System Actor Names (CSV)","type":"script","author":"xOsB85wXI0jTccyw","img":"icons/tools/scribal/ink-quill-red.webp","scope":"global","command":"function copyToClipboard(text) {\n    const input = document.createElement('textarea');\n    input.value = text;\n    \n    document.body.appendChild(input);\n    input.select();\n    document.execCommand('copy');\n    document.body.removeChild(input);\n}\n\n    const data = game.packs.contents.flatMap(x =>\n        Array.from(x.index.values())\n            .filter(k => k.type == 'npc' || k.type == 'hazard')\n            .map(k => `${k.name}`));\n\n    const output = data.join('\\n');\n    copyToClipboard(output);","folder":null,"sort":0,"permission":{"default":0,"xOsB85wXI0jTccyw":3},"flags":{"core":{"sourceId":"Macro.ST8hFgd4GMepYNAY"}},"_id":"eFQCCd9lER4kBftV"}
{"name":"Get System Actor Short ID (CSV)","type":"script","author":"xOsB85wXI0jTccyw","img":"icons/tools/scribal/ink-quill-red.webp","scope":"global","command":"function copyToClipboard(text) {\n    const input = document.createElement('textarea');\n    input.value = text;\n    \n    document.body.appendChild(input);\n    input.select();\n    document.execCommand('copy');\n    document.body.removeChild(input);\n}\n\n    const data = game.packs.contents.flatMap(x =>\n        Array.from(x.index.values())\n            .filter(k => k.type == 'npc' || k.type == 'hazard')\n            .map(k => `${k._id}`));\n\n    const output = data.join('\\n');\n    copyToClipboard(output);","folder":null,"sort":0,"permission":{"default":0,"xOsB85wXI0jTccyw":3},"flags":{"core":{"sourceId":"Macro.ST8hFgd4GMepYNAY"}},"_id":"ujXeUnPMMibKVPK1"}
{"name":"Get System Actor Source (CSV)","type":"script","author":"xOsB85wXI0jTccyw","img":"icons/tools/scribal/ink-quill-red.webp","scope":"global","command":"function copyToClipboard(text) {\n    const input = document.createElement('textarea');\n    input.value = text;\n    \n    document.body.appendChild(input);\n    input.select();\n    document.execCommand('copy');\n    document.body.removeChild(input);\n}\n\n    const data = game.packs.contents.flatMap(x =>\n        Array.from(x.index.values())\n            .filter(k => k.type == 'npc' || k.type == 'hazard')\n            .map(k => `${x.metadata.package}.${x.metadata.name}`));\n\n    const output = data.join('\\n');\n    copyToClipboard(output);","folder":null,"sort":0,"permission":{"default":0,"xOsB85wXI0jTccyw":3},"flags":{"core":{"sourceId":"Macro.ST8hFgd4GMepYNAY"}},"_id":"maPBvynilcG66Lqd"}
{"$$deleted":true,"_id":"HbL7Gu7B7ukic5Ig"}
{"name":"Import Multiple Actors","type":"script","author":"xOsB85wXI0jTccyw","img":"icons/tools/hand/scale-balances-merchant-brown.webp","scope":"global","command":"const PACK_NAME = \"pf2e.abomination-vaults-bestiary\"; // configure this\nconst MONSTER_NAMES = [\"Bone Gladiator\", \"Mister Beak\", \"Blood of Belcorra\"]; // configure this\nconst pack = game.packs.get(PACK_NAME);\nfor ( const name of MONSTER_NAMES ) {\n  const id = pack.index.find(i => i.name === name)._id;\n  await game.actors.importFromCompendium(pack, id, {}, {keepId: true});\n}","folder":null,"sort":0,"permission":{"default":0,"xOsB85wXI0jTccyw":3},"flags":{"core":{"sourceId":"Macro.RegBGW211JleQN2e"}},"_id":"MfYTQhjABgIQuBtO"}
{"name":"Import Single Actor","type":"script","author":"xOsB85wXI0jTccyw","img":"icons/tools/hand/scale-balances-merchant-brown.webp","scope":"global","command":"pack = game.packs.get(\"pf2e.npc-gallery\");\ngame.actors.importFromCompendium(pack, \"p94aKz7KsiAQJscm\", {}, {keepId: true});","folder":null,"sort":0,"permission":{"default":0,"xOsB85wXI0jTccyw":3},"flags":{"core":{"sourceId":"Macro.Py9U2eAUENc6RwUk"}},"_id":"uoZVhjG6Fexrx4Ur"}
{"name":"Set Prototype Token Images","type":"script","author":"xOsB85wXI0jTccyw","img":"icons/tools/fasteners/chain-steel-blue.webp","scope":"global","command":"let updates = []\nfor(let a of game.actors.contents) {\nlet _id = a.data._id\nlet tokenimg = a.data.token.img\ntokenimg = tokenimg.replace(\"/bestiary-portraits/\", \"/bestiary-tokens/\")\nlet update = {\n_id: _id, token: {img: tokenimg}\n}\nupdates.push(update)\n}\nawait Actor.updateDocuments(updates)","folder":null,"sort":0,"permission":{"default":0,"xOsB85wXI0jTccyw":3},"flags":{"core":{"sourceId":"Macro.ugB9DlPg1pev1iS9"}},"_id":"LRI01f8GhCBBWHHm"}
